<%- include('./includes/head.ejs') -%>
<%- include('./includes/menu.ejs') -%>

      <!-- Slider -->
      <%- include('./components/slider.ejs') -%>

      <!-- End Slider -->
      <%- include('./components/searcher.ejs') -%>

      <!-- /.rh_prop_search -->
      <div class="wrapper-home-sections">
        <section
          class="rh_section rh_section__content rh_section--content_padding"
        >
          <article id="post-7072" class="rh_content">
            <div
              data-elementor-type="wp-post"
              data-elementor-id="7072"
              class="elementor elementor-7072"
            >
              <div class="elementor-inner">
                <div class="elementor-section-wrap">
                
                  <!--  Section  Name -->
    
                  <%- include('./components/sectionnames.ejs', { 
                    sectionName: "Featured Properties", 
                    title: "Checkout", 
                    description: "Checkout our featured properties" 
                  }) -%>
    
    
    
                  <!-- featured Properties -->
                  <section class="elementor-section elementor-top-section elementor-element elementor-element-7ce6891 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="7ce6891" data-element_type="section">
                    <div class="elementor-container elementor-column-gap-no">
                      <div class="elementor-row">
                  <div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d0c1a8d" data-id="d0c1a8d" data-element_type="column">
                  <div class="elementor-column-wrap elementor-element-populated">
                      <div class="elementor-widget-wrap">
                    <div class="elementor-element elementor-element-dae41ae elementor-widget elementor-widget-rhea-properties-widget" data-id="dae41ae" data-element_type="widget" data-widget_type="rhea-properties-widget.default">
                  <div class="elementor-widget-container">
                      <section id="rh-dae41ae" class="rh_elementor_widget rh_latest-properties rhea_properties_default rhea_ele_property_ajax_target rhea_latest_properties_ajax elementor_properties_grid elementor_property_card_parent rhea_has_tooltip">
                    
                  <div class="container-latest-properties">
                  <div class="wrapper-section-contents">
                  <div class="home-properties-section-inner home-properties-section-inner-target">
                              <div class="rh_properties_element rh_properties_pagination_append" id="featuredpropertiesdiv">
                               
                   


                                  </div>                <div class="rhea_svg_loader">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="#dedede">
                  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> 
                  <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
                  </path>
                  <path transform="translate(8)" d="M0 12 V20 H4 V12z">
                  <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
                  </path>
                  <path transform="translate(14)" d="M0 12 V20 H4 V12z">
                  <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
                  </path>
                  <path transform="translate(20)" d="M0 12 V20 H4 V12z">
                  <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
                  </path>
                  <path transform="translate(26)" d="M0 12 V20 H4 V12z">
                  <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
                  </path>
                  </svg>
                        </div>
                  <div class='rhea_pagination_wrapper'><div class='pagination rhea-pagination-clean' id="pagination">
                    
                  </div></div>        </div>
                  </div>
                  </div>
                  <!-- /.rh_prop_card -->
                  </section>
                  </div>
                  </div>
                    </div>
                  </div>
                  </div>
                        </div>
                  </div>
                  </section>
                  <script>
                    // Function to animate the elements
                    function animateElements() {
                      const elements = document.querySelectorAll('.elementor-widget-container');
                      elements.forEach(element => {
                        const boundingBox = element.getBoundingClientRect();
                        const screenHeight = window.innerHeight;
                        
                        // Check if the element is in the viewport
                        if (boundingBox.top < screenHeight) {
                          element.style.opacity = 1;
                          element.style.transform = 'translateY(0)';
                        }
                      });
                    }
                  
                    // Add event listener to call the animation function on scroll
                    window.addEventListener('scroll', animateElements);
                  
                    // Call the animation function initially
                    animateElements();
                  </script>    
    
              <!--  Section  Name -->
    
                  <%- include('./components/sectionnames.ejs', { 
                    sectionName: "Random Properties", 
                    title: "Other Properties", 
                    description: "Checkout out other properties" 
                  }) -%>
    <!--  Properties  For sale -->
    
    <section class="elementor-section elementor-top-section elementor-element elementor-element-7ce6891 elementor-section-boxed elementor-section-height-default elementor-section-height-default" data-id="7ce6891" data-element_type="section">
      <div class="elementor-container elementor-column-gap-no">
        <div class="elementor-row">
    <div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-d0c1a8d" data-id="d0c1a8d" data-element_type="column">
    <div class="elementor-column-wrap elementor-element-populated">
        <div class="elementor-widget-wrap">
      <div class="elementor-element elementor-element-dae41ae elementor-widget elementor-widget-rhea-properties-widget" data-id="dae41ae" data-element_type="widget" data-widget_type="rhea-properties-widget.default">
    <div class="elementor-widget-container">
        <section id="rh-dae41ae" class="rh_elementor_widget rh_latest-properties rhea_properties_default rhea_ele_property_ajax_target rhea_latest_properties_ajax elementor_properties_grid elementor_property_card_parent rhea_has_tooltip">
      
    <div class="container-latest-properties">
    <div class="wrapper-section-contents">
    <div class="home-properties-section-inner home-properties-section-inner-target">
                <div class="rh_properties_element rh_properties_pagination_append" id="forsalediv">
                 



                    </div>                <div class="rhea_svg_loader">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32" height="32" fill="#dedede">
    <path transform="translate(2)" d="M0 12 V20 H4 V12z"> 
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
    </path>
    <path transform="translate(8)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />
    </path>
    <path transform="translate(14)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
    </path>
    <path transform="translate(20)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
    </path>
    <path transform="translate(26)" d="M0 12 V20 H4 V12z">
    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />
    </path>
    </svg>
          </div>
          </div>
    </div>
    </div>
    <!-- /.rh_prop_card -->
    </section>
    </div>
    </div>
      </div>
    </div>
    </div>
          </div>
    </div>
    </section>                  <!-- Properties  For sale -->
    <%- include('./components/sectionnames.ejs', { 
      sectionName: "Locations", 
      title: "List Of Locations", 
      description: "Checkout our properties in purticular locations", 
    }) -%>

                  <section class="elementor-section elementor-top-section elementor-element elementor-element-10eaad0 elementor-section-full_width elementor-section-height-default elementor-section-height-default" data-id="10eaad0" data-element_type="section" style="margin-bottom: 100px;">
                    <div class="elementor-container elementor-column-gap-no">
                      <div class="elementor-row">
                  <div class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-f73cbf9" data-id="f73cbf9" data-element_type="column">
              <div class="elementor-column-wrap elementor-element-populated">
                      <div class="elementor-widget-wrap">
                    <div class="elementor-element elementor-element-fd6d663 elementor-widget elementor-widget-rhea-properties-cities-widget" data-id="fd6d663" data-element_type="widget" data-widget_type="rhea-properties-cities-widget.default">
                <div class="elementor-widget-container">
                          <div class="rhea_properties_cities_wrapper default" id="places">

                            <% for(let cities of location){%>
                              <div class="rhea_property_city">
                                <a class="rhea_property_city_inner" style="flex-direction: column" href="/location/<%=cities.name%>"><span class="rhea_pc_layer_still" style="background-image: url('http://safehomes.ae/<%= cities.imagePaths %>')"></span>
                                    <span class="rhea_pc_layer"></span><h3 class="rhea_city_title"><%=cities.name%></h3><span class="rhea_pc_counter" style="align-self: flex-end"><span class="rhea_pc_count"></span></span></a></div>
                                    <%}%>
                                   
                    </div>
              
        
                </div>
                </div>
                    </div>
                  </div>
            </div>
                        </div>
                  </div>
            </section>     
               
              
            <section
            class="elementor-section elementor-top-section elementor-element elementor-element-576f89ac elementor-section-full_width elementor-section-stretched elementor-section-height-default elementor-section-height-default"
            data-id="576f89ac"
            data-element_type="section"
            data-settings='{"stretch_section":"section-stretched","shape_divider_top":"tilt","shape_divider_bottom":"tilt"}'
          >
            <div
              class="elementor-shape elementor-shape-top"
              data-negative="false"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 1000 100"
                preserveAspectRatio="none"
              >
                <path
                  class="elementor-shape-fill"
                  d="M0,6V0h1000v100L0,6z"
                />
              </svg>
            </div>
            <div
              class="elementor-shape elementor-shape-bottom"
              data-negative="false"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 1000 100"
                preserveAspectRatio="none"
              >
                <path
                  class="elementor-shape-fill"
                  d="M0,6V0h1000v100L0,6z"
                />
              </svg>
            </div>
            <div class="elementor-container elementor-column-gap-no">
              <div class="elementor-row">
                <div
                  class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-77d3ec2d"
                  data-id="77d3ec2d"
                  data-element_type="column"
                >
                  <div
                    class="elementor-column-wrap elementor-element-populated"
                  >
                    <div class="elementor-widget-wrap">
                      <div
                        class="elementor-element elementor-element-4da04955 elementor-widget elementor-widget-ere-cta-two-widget"
                        data-id="4da04955"
                        data-element_type="widget"
                        data-widget_type="ere-cta-two-widget.default"
                      >
                        <div class="elementor-widget-container">
                          <section
                            class="rh_elementor_widget rh_section__cta_elementor_two rh_cta--featured_elementor ere_cta_parallax"
                            style="
                              background-size: cover;
                              background-image: url(/assets/img/dubai.jpeg);
                            "
                          >
                            <div class="elementor_overlay_cta_1"></div>
                            <div
                              class="wrapper-section-contents_elementor"
                            >
                              <div class="rh_cta__wrap_elementor">
                                <p class="rh_cta__title">
                                  Looking for More?
                                </p>

                                <h3 class="rh_cta__quote">
                                  Talk to our experts or Browse through
                                  more properties.
                                </h3>

                                <div class="rh_cta__btns_elementor_two">
                                  <a
                                    href="/contact"
                                    class="cta_two_elementor_first_button cta_two_elementor_button"
                                    >Get In Touch</a
                                  >

                                 
                                </div>
                              </div>
                            </div>
                          </section>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
               
                  <%- include('./components/sectionnames.ejs', { 
                    sectionName: "Building Types", 
                    title: "List Of Building Types", 
                    description: "Checkout our properties in purticular building types", 
                  }) -%>
                  <%- include('./components/types.ejs') -%>

                  <%- include('./components/sectionnames.ejs', { 
                    sectionName: "partners", 
                    title: "our", 
                    description: "We are honoured to have this amazing partners" 
                  }) -%>
                  <section
                    class="elementor-section elementor-top-section elementor-element elementor-element-cb9f233 elementor-section-stretched elementor-section-boxed elementor-section-height-default elementor-section-height-default"
                    data-id="cb9f233"
                    data-element_type="section"
                    data-settings='{"stretch_section":"section-stretched","background_background":"classic"}'
                  >
                    <div class="elementor-container elementor-column-gap-no">
                      <div class="elementor-row">
                        <div
                          class="elementor-column elementor-col-100 elementor-top-column elementor-element elementor-element-c7b8186"
                          data-id="c7b8186"
                          data-element_type="column"
                        >
                          <div
                            class="elementor-column-wrap elementor-element-populated"
                          >
                            <div class="elementor-widget-wrap">
                              <div
                                class="elementor-element elementor-element-5d88aaa elementor-widget elementor-widget-ere-partners-widget"
                                data-id="5d88aaa"
                                data-element_type="widget"
                                data-widget_type="ere-partners-widget.default"
                              >
                                <div class="elementor-widget-container">
                                  <section
                                    class="rh_elementor_widget rh_wrapper_partners_elementor"
                                  >
                                    <div class="rh_section__partners_elementor">
                                      <div
                                        class="rh_partner post-118 partners type-partners status-publish has-post-thumbnail hentry rh_blog__post entry-header-margin-fix"
                                      >
                                        <a
                                          
                                          href="#"
                                          title="Partner One"
                                        >
                                          <img
                                            width="124"
                                            height="55"
                                            src="/assets/azizi.png"
                                            class="attachment-partners-logo size-partners-logo wp-post-image"
                                            alt=""
                                            decoding="async"
                                            loading="lazy"
                                          />
                                        </a>
                                      </div>
                                      <div
                                        class="rh_partner post-116 partners type-partners status-publish has-post-thumbnail hentry rh_blog__post entry-header-margin-fix"
                                      >
                                        <a
                                          
                                          href="#"
                                          title="Partner Two"
                                        >
                                        <img
                                        width="124"
                                        height="55"
                                        src="/assets/emar.png"
                                        class="attachment-partners-logo size-partners-logo wp-post-image"
                                        alt=""
                                        decoding="async"
                                        loading="lazy"
                                      />
                                        </a>
                                      </div>
                                      <div
                                        class="rh_partner post-112 partners type-partners status-publish has-post-thumbnail hentry rh_blog__post entry-header-margin-fix"
                                      >
                                        <a
                                          
                                          href="#"
                                          title="Partner Three"
                                        >
                                          <img
                                            width="136"
                                            height="70"
                                            src="/assets/shoba.png"
                                            class="attachment-partners-logo size-partners-logo wp-post-image"
                                            alt=""
                                            decoding="async"
                                            loading="lazy"
                                          />
                                        </a>
                                      </div>
                                      <div
                                        class="rh_partner post-120 partners type-partners status-publish has-post-thumbnail hentry rh_blog__post entry-header-margin-fix"
                                      >
                                        <a
                                          
                                          href="#"
                                          title="Partner Four"
                                        >
                                          <img
                                            width="140"
                                            height="69"
                                            src="/assets/tilal.png"
                                            class="attachment-partners-logo size-partners-logo wp-post-image"
                                            alt=""
                                            decoding="async"
                                            loading="lazy"
                                          />
                                        </a>
                                      </div>
                                 
                                    </div>
                                  </section>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </section>
                </div>
              </div>
            </div>
          </article>
        </section>
      </div>
      
      <%- include('./components/footer.ejs') -%>
     <!-- ////modal deleted -->
    </div>
    <a href="#top" id="scroll-top" class="stp_right"
      ><i class="fas fa-chevron-up"></i
    ></a>
 
    <script>
      // Function to open the modal
      // function openModal() {
      //   document.getElementById("myModal").style.display = "block";
      // }
    
      // Function to close the modal
      // function closeModal() {
      //   document.getElementById("myModal").style.display = "none";
      // }
    
      // Wait for 20 seconds and then open the modal
      // setTimeout(openModal, 10000);
    </script>
      <script src="../assets/vendor/libs/jquery/jquery.js"></script>
<script>
  var loc = <%- JSON.stringify(location) %>;
  var realhomesLocationsData = {
      any_text: 'Any',
      any_value: 'any',
      select_names: [
        'location',
      ],
      select_count: '1',
      locations_in_params: [],
      multi_select_locations: 'yes',
      all_locations: loc }
    


	/* ----------- START OF LOCATIONS SELECT BOXES CODE ----------- */
 

</script>
<script>

</script>
       <script
       type="text/javascript"
       src="../frontendscripts/index.js"></script>
       <script
       type="text/javascript"
       src="../frontendscripts/contactform.js"></script>
       <script>

$(document).ready(function() {
    const propertiesListing = $('#featuredpropertiesdiv');
    const forsalediv = $('#forsalediv');
    // const featuredslides = $('#featuredslides');

    const paginationContainer = $('#pagination');
    // Function to make an AJAX request to the backend with pagination
    function listfeatruredproperties(page) {
        $.ajax({
            url: `http://safehomes.ae/listfeatruredproperties?page=${page}`,
            type: 'GET',
            dataType: 'json',
            success: function(response) {
                // Handle the response from the backend here
                // For example, update the HTML to display the property listings
                if (response && response.properties) {
                    propertiesListing.empty();
                    response.properties.forEach((property) => {
                        propertiesListing.append(layout(property));
                       
                    });

                    // Create pagination links
                    paginationContainer.empty();
                    for (let i = 1; i <= response.totalPages; i++) {
                        const activeClass = response.currentPage === i ? 'current' : '';
                        paginationContainer.append(`<a class="rh_pagination__btn ${activeClass}" href="#" data-page="${i}">${i}</a>`);
                    }
                }
            },
            error: function(error) {
                console.error('Error fetching properties:', error);
            }
        });
    }
  //   function listofforsale() {
  //       $.ajax({
  //           url: `http://safehomes.ae/miniforsale`,
  //           type: 'GET',
  //           dataType: 'json',
  //           success: function(response) {
  //             console.log(response)
  //               // Handle the response from the backend here
  //               // For example, update the HTML to display the property listings
  //               if (response && response.properties) {
  //                   response.properties.forEach((property) => {
  //                     console.log(property)

  //                      featuredslides.append(slides(property));

  //                   });
  //                 }
  //                   // Create pagination links
                 
              
  //           },
  //           error: function(error) {
  //             console.log(error)
  //               console.error('Error fetching properties:', error);
  //           }
  //       });
  //   }
     function listallrandom() {
        $.ajax({
            url: `http://safehomes.ae/listallrandom`,
            type: 'GET',
            dataType: 'json',
            success: function(response) {
                // Handle the response from the backend here
                // For example, update the HTML to display the property listings
                if (response && response.properties) {
                  forsalediv.empty();
                    response.properties.forEach((property) => {
                      forsalediv.append(layout(property));
                    });
                  }
                    // Create pagination links
                 
              
            },
            error: function(error) {
                console.error('Error fetching properties:', error);
            }
        });
    }

    // Call the fetchProperties function with page 1 and the initial sortproperties value on page load
    // listofforsale()
    listallrandom()
    listfeatruredproperties(1);
        $('.inspiry_show_on_doc_ready').show();

   
    // Handle sortproperties change event
 
 // Default property type

});
function layout(property){
      return ` <%- include('./components/card.ejs', {
                               image: '${property.file[0]}',
                                propertyname: '${property.plName}',
                                propertydetails: '${property.plShort}',
                                bedrooms: '${property.plBedrooms}',
                                bathrooms: '${property.plBathrooms}',
                                area: '${property.plTotalArea}',
                                price: '${property.plExpeactedPrice}',
                                propertyid:'${property._id}',
                                saletype:'${property.plPropertySaleRent}'
                            }) -%>`
    }
       </script>
    <%- include('./includes/end.ejs') -%>
